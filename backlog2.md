# Vocabu — MVP Backlog (Updated)

**Legend:** ✅ Done · ⏳ In progress · 🔜 Next · 💤 Later · ⚠️ Risk

## 0) Scope (MVP)
- Поток: **Language Select (Экран 0)** → **Placement & Goals** → **Learn** → **Review (SRS)** → **Progress**.
- Контексты: **Право / Туризм / IT / 60+** (приоритет 60+).
- Языковые пары: **EN↔RU (functional)**, **EN↔ES (UI-beta, без контента пока)**.
- Ценность: персонализация по **контексту**, **уровню** и **темпу**, с **AI-подбором** слов/примеров «по кнопке».

---

## 1) Language Select (Экран 0 — до Плейсмента)
- ✅ Дизайн-решение: выбор до всего остального.
- 🔜 L0: Экран выбора языков
  - «Я говорю»: **Русский / English / Español** (язык интерфейса `uiLocale`).
  - «Хочу выучить»: **English / Español** (`languagePair`).
  - Автодетект `navigator.language` (`es-*` → `uiLocale=es`).
  - Сохранение в state/localStorage.
- 🔜 L1: Мини-локализация ES
  - Базовые ярлыки и подсказки для онбординга и Plan.
  - Бейдж **beta/en progreso** у ES↔EN (контент ещё в работе).
- 💤 Deep-link: `?ui=es&pair=es-en` для кампаний.

**Acceptance:** Экран 0 показывается при первом входе, выбор сохраняется; Plan открывается уже в нужной локали; на Plan — плашка «Пара языков» сверху.

---

## 2) Placement & Goals (контекст + мини-тест + план)
### 2.1 UI & Flow
- ✅ Sidebar layout v2 (широкая рабочая зона).
- ✅ RU/EN локали, базовые тексты.
- ✅ Сохранение состояния + миграции (сброс «прилипшего» результата).
- ✅ Контекст (Law/Travel/IT/60+), стиль (Simple/Professional/Academic), срок.
- ✅ «Название плана (опц.)», «Ваш текст (опц.)» + счётчик + **Очистить**.
- ✅ Чекбокс «Использовать мой текст при формировании пакета».
- ✅ Плашка «Пара языков» (UI) — **перенести вверх** (после Экран 0).

### 2.2 Мини-тест
- ✅ 15 вопросов, вес сложности, **контекстные банки** (9 контекст + 6 core), **без дублей**, детерминированность.
- ✅ Расчёт **A2/B1/B2** + confidence (0.55–0.90).
- 🔜 **Экран результатов мини-теста**: краткий отчёт + 3–5 пояснений «почему так», строка «как это повлияло на план».
- 💤 Таймер/лимит времени.

### 2.3 Рекомендации/План
- ✅ Рекомендация «слов/день» + лайв «≈ неделя / всего» + «Принять».
- ✅ Формирование пакета: **userText (если включён) → базовые слова контекста**.
- 🔜 **Extract v2**: нормализация, стоп-слова, дедуп, цифры/имена → чистый пакет.
- 🔜 **Расширение базовых слов** (особенно 60+: здоровье/соц-сервисы/быт).

**Acceptance:** Смена контекста/стиля/пары сбрасывает старый уровень; план формируется стабильно; отчёт мини-теста объясняет рекомендацию.

---

## 3) AI-Boost Lite (без веб-скрейпа, «подбери за меня»)
- 🔜 **AI-подбор слов (Plan):** кнопка «ИИ: предложить слова на неделю».
  - Вход: контекст, уровень, стиль, срок (и/или ключевые темы).
  - Выход: 15–30 слов/словосочетаний с короткими пометками → превью с чекбоксами → «Добавить к плану».
- 🔜 **AI-извлечение из моего текста (Plan):** кнопка «ИИ: выделить ключевые слова».
  - Вход: `userText`; Выход: 12–20 лемм + короткий пример на слово.
- 🔜 **AI-предложения (Learn):** 1–2 примера под слово (учёт стиля/уровня).
- 🔜 **AI-дистракторы (Learn):** 3–4 правдоподобных варианта (EN↔ES — позже «ложные друзья»).
- 🔜 **AI-мини-текст (Learn):** 80–120 слов на часть todaySet + 1 вопрос на понимание.
- 🔜 **AI-объяснения (Mini-test/Ошибки):** 1–2 строки «почему так».

**Acceptance:** При клике «ИИ: предложить слова» пользователь видит превью, добавляет набор; в Learn карточки используют AI-предложения/дистракторы; мини-текст доступен; при недоступности AI — фолбэк на локальные данные.

---

## 4) Learn (упражнения)
- ✅ Мини-сессия из **todaySet** (карточки-плейсхолдер).
- 🔜 **Exercises v1**:
  - **MCQ** (варианты с AI-дистракторами).
  - **Type-in** (ввод по подсказке/переводу, допуск лёгких опечаток).
  - **Flip/Reveal** (карточка с переворотом, затем быстрый self-grade).
- 💤 Озвучка/TTS (при наличии ассетов).
- 💤 Адаптивность форматов к уровню/стилю.

**Acceptance:** 3 формата доступны в одной сессии; мгновенная обратная связь; минимум кликов; крупные кликабельные зоны (≥44 px).

---

## 5) Review (SRS)
- ⏳ Каркас SRSDeckAdapter.
- 🔜 **SRS v1**: Again / Hard / Good / Easy; базовые интервалы; сериализация прогресса.
- 🔜 История повторов/ошибок; счетчик «на сегодня».
- 💤 Настройки «дневной лимит», баланс новых/повторов.

**Acceptance:** После Learn доступна сессия Review; карточки возвращаются по интервалам; видно «сколько на сегодня».

---

## 6) Progress
- ✅ Базовая сводка: total/weekly/daily; size of todaySet.
- 🔜 **Экспорт CSV/JSON**: weekly и todaySet.
- 💤 Статистика: streak/«дни в ритме», графики слов/день, выполненные сессии, «сложные слова».

**Acceptance:** Один клик — скачивание CSV/JSON; прогресс читается с первого взгляда.

---

## 7) Контент
- ✅ Базовые слова по контекстам: Law/Travel/IT/60+ (минимум).
- 🔜 **Расширить 60+** (здоровье, гос/соц-услуги, повседневность) + короткие примеры.
- 🔜 Доработать Law/Travel/IT (добавить коллокации и фразы).
- 💤 Микро-корпус для генерации предложений.

**Acceptance:** +50–100 релевантных единиц для 60+ с примерами; списки без дублей, понятные A2–B1.

---

## 8) Language pairs
- ✅ UI-селект пары (перенесён вверх в Plan; первичный выбор — Экран 0).
- ⚠️ **EN↔ES: контент отсутствует** (только UI).
  - 🔜 Банки вопросов (core + контекстные) для ES.
  - 🔜 Базовые слова (по контекстам) для ES.
  - 🔜 Extract для ES (леммы/стоп-слова).
  - 🔜 Дистракторы-«ложные друзья».

**Acceptance:** Мини-тест и наборы корректно работают хотя бы для 1–2 контекстов на EN↔ES
